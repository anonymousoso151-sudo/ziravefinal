# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช - ZฤฐRAVE Backend

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ููุถุญ ููููุฉ ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุช Supabase ูู ุฎูุงู ูุดุฑูุน NestJS ุงูุฎููู.

## ๐ ุงููููุงุช ุงููุทููุจุฉ

### 1. ููู ุงูุงุฎุชุจุงุฑ
- **ุงููููุน:** `src/test-db-connection.ts`
- **ุงููุธููุฉ:** ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฌูุจ ุงูุจูุงูุงุช

### 2. ููู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงููููุน:** `setup-database.sql`
- **ุงููุธููุฉ:** ุฅูุดุงุก ุงูุฌุฏุงูู ูุงูุณูุงุณุงุช ุงููุทููุจุฉ

### 3. ููู ุงูุจูุฆุฉ
- **ุงููููุน:** `.env`
- **ุงููุธููุฉ:** ุชุฎุฒูู ููุงุชูุญ Supabase ูุงูุฅุนุฏุงุฏุงุช

## ๐ง ููููุฉ ุงูุชุดุบูู

### ุงูุฎุทูุฉ 1: ุงูุชุฃูุฏ ูู ูุฌูุฏ ููู .env
```bash
# ุชุฃูุฏ ูู ูุฌูุฏ ุงูููู
ls .env

# ุชุญูู ูู ุงููุญุชูู
cat .env
```

### ุงูุฎุทูุฉ 2: ุชุดุบูู ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
```bash
npm run test:db
```

### ุงูุฎุทูุฉ 3: ุฅูุดุงุก ุงูุฌุฏุงูู (ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ)
```bash
# ุจุงุณุชุฎุฏุงู Supabase CLI
supabase db reset

# ุฃู ุจุงุณุชุฎุฏุงู psql ูุจุงุดุฑุฉ
psql -h your-supabase-host -U postgres -d postgres -f setup-database.sql
```

## ๐ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### โ ุฅุฐุง ูุงู ูู ุดูุก ูุนูู ุจุดูู ุตุญูุญ:
```
๐ ุจุฏุก ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช...

โ ุชู ุฅูุดุงุก ุชุทุจูู NestJS ุจูุฌุงุญ
โ ุชู ุงูุญุตูู ุนูู ุฎุฏูุฉ Supabase ุจูุฌุงุญ

๐ ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุงูุฃุณุงุณู...
โ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุนูู

๐ ุงุฎุชุจุงุฑ ุฌุฏูู profiles...
โ ูุฌุญ ุงููุตูู ูุฌุฏูู profiles
๐ ุนุฏุฏ ุงููููุงุช ุงูุดุฎุตูุฉ: 3
๐ค ุฃูู ููู ุดุฎุตู: { ... }

๐ ุงุฎุชุจุงุฑ ุงูุนููู ุงูุฅุฏุงุฑู...
โ ุงูุนููู ุงูุฅุฏุงุฑู ูุนูู ุจุดูู ุตุญูุญ

๐ ุชู ุฅููุงู ุงุฎุชุจุงุฑ ุงูุงุชุตุงู!
```

### โ๏ธ ุฅุฐุง ูุงูุช ููุงู ูุดุงูู:
```
โ ุฎุทุฃ ูู ุงูุงุชุตุงู: Invalid API key
๐ก ูุฌุจ ุชุญุฏูุซ ููุงุชูุญ Supabase ูู ููู .env

โ ุฎุทุฃ ูู ุงููุตูู ูุฌุฏูู profiles: Table not found
๐ก ูุฌุจ ุฅูุดุงุก ุงูุฌุฏุงูู ุจุงุณุชุฎุฏุงู setup-database.sql
```

## ๐ ูุชุทูุจุงุช ููุงุชูุญ Supabase

### ุงูููุงุชูุญ ุงููุทููุจุฉ ูู ููู .env:
```env
# ููุชุงุญ ุงูุงุชุตุงู ุงูุนุงู (ูุทููุจ)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here

# ููุชุงุญ ุงูุฎุฏูุฉ ุงูุฅุฏุงุฑูุฉ (ุงุฎุชูุงุฑู - ููุนูููุงุช ุงูุฅุฏุงุฑูุฉ)
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
```

### ููููุฉ ุงูุญุตูู ุนูู ุงูููุงุชูุญ:
1. ุงุฐูุจ ุฅูู [Supabase Dashboard](https://supabase.com/dashboard)
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ุงุฐูุจ ุฅูู Settings > API
4. ุงูุณุฎ ุงูููุงุชูุญ ุงููุทููุจุฉ

## ๐๏ธ ุงูุฌุฏุงูู ุงููุทููุจุฉ

### ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ:
- **profiles** - ูููุงุช ุงููุณุชุฎุฏููู ุงูุดุฎุตูุฉ
- **products** - ุงูููุชุฌุงุช ูู ุงูุณูู
- **conversations** - ุงููุญุงุฏุซุงุช
- **messages** - ุงูุฑุณุงุฆู
- **shipment_requests** - ุทูุจุงุช ุงูููู
- **shipment_bids** - ุนุฑูุถ ุงูููู
- **diagnosis_results** - ูุชุงุฆุฌ ุชุดุฎูุต ุงููุจุงุชุงุช

### ููููุฉ ุฅูุดุงุก ุงูุฌุฏุงูู:
```bash
# ุงูุทุฑููุฉ 1: ุงุณุชุฎุฏุงู ููู SQL
psql -h your-supabase-host -U postgres -d postgres -f setup-database.sql

# ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู Supabase CLI
supabase db reset

# ุงูุทุฑููุฉ 3: ูู ููุญุฉ ุงูุชุญูู
# ุงุฐูุจ ุฅูู Supabase Dashboard > SQL Editor
# ุงูุณุฎ ูุญุชูู setup-database.sql ูุงูุตูู
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: "Invalid API key"
**ุงูุญู:** ุชุญุฏูุซ ููุงุชูุญ Supabase ูู ููู .env

### ูุดููุฉ: "Table not found"
**ุงูุญู:** ุชุดุบูู ููู setup-database.sql

### ูุดููุฉ: "Connection refused"
**ุงูุญู:** ุงูุชุฃูุฏ ูู ุตุญุฉ SUPABASE_URL

### ูุดููุฉ: "Permission denied"
**ุงูุญู:** ุงูุชุฃูุฏ ูู ุตุญุฉ ููุงุชูุญ API

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุฃูุงู ุงูููุงุชูุญ:** ูุง ุชุดุงุฑู ููุงุชูุญ Supabase ูุน ุฃู ุดุฎุต
2. **ุจูุฆุฉ ุงูุชุทููุฑ:** ุงุณุชุฎุฏู ููุงุชูุญ ูููุตูุฉ ููุชุทููุฑ ูุงูุฅูุชุงุฌ
3. **ุงููุณุฎ ุงูุงุญุชูุงุทู:** ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. **ุงููุฑุงูุจุฉ:** ุฑุงูุจ ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ููุญุฉ ุงูุชุญูู

## ๐ ุฑูุงุจุท ูููุฏุฉ

- [Supabase Documentation](https://supabase.com/docs)
- [NestJS Documentation](https://nestjs.com/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
